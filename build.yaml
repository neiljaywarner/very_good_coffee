targets:
  $default:
    sources:
      - integration_test/**   # By default, build runner will not generate code in the integration folder
      - test/**               # so we override paths for code generation here
      - lib/**
      - $package$
    builders:
      json_serializable:
        options:
          # Options configure how source code is generated for every
          # `@JsonSerializable`-annotated class in the package.
          #
          # explicit to json is so nested classes are generated by default with freezed/json serializable
          # see https://pub.dev/packages/freezed
          explicit_to_json: true
      bdd_widget_test|featureBuilder:
        options:
          stepFolderName: bdd_steps # this trick is required to share steps between widget and integration tests
          # testMethodName: customTestMethodName
          include: package:bdd_widget_test/bdd_options.yaml
        generate_for:
          - test/**
          - integration_test/**